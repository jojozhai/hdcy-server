<div class="smart-widget widget-dark-blue margin-md">
	<div class="smart-widget-header">照片投票活动信息</div>
	<div class="smart-widget-inner">
	<div class="smart-widget-body" >
		<form name="votingForm" class="form-horizontal no-margin" id="type-constraint" data-validate="parsley" novalidate>
			<div class="form-group"  ng-class="votingForm.name.$invalid && votingForm.name.$dirty ? 'has-error': ''">
				<label class="control-label col-lg-3">照片投票活动名称:</label>
				<div class="col-lg-6">
					<input name="name" ng-model="voting.name" type="text" class="form-control input-sm" placeholder="照片投票活动名称" required>
					<label class="control-label" ng-show="votingForm.name.$invalid && votingForm.name.$dirty">照片投票活动名称不能为空</label>
				</div>
			</div>
			<div class="form-group">
                <label class="control-label col-lg-3">发布:</label>
                <div class="col-lg-1">
                    <div class="custom-checkbox todo-checkbox">
                        <input id="selection" ng-model="voting.enable" ng-checked="voting.enable" type="checkbox">
                        <label for="selection" style="margin-top: 4px;"></label>
                    </div>
                </div>
                <label class="control-label col-lg-1">置顶:</label>
                <div class="col-lg-1">
                    <div class="custom-checkbox todo-checkbox">
                        <input id="selection3" ng-model="voting.top" ng-checked="voting.top" type="checkbox">
                        <label for="selection3" style="margin-top: 4px;"></label>
                    </div>
                </div>
                <label class="control-label col-lg-2">置顶顺序:</label>
                <div class="col-lg-2">
                    <input name="topIndex" ng-model="voting.topIndex" type="number" class="form-control input-sm" placeholder="置顶顺序" required>
                    <label class="control-label" ng-show="votingForm.topIndex.$invalid && votingForm.topIndex.$dirty">置顶顺序能为空</label>
                </div>
                <label class="control-label col-lg-1">推荐:</label>
                <div class="col-lg-1">
                    <div class="custom-checkbox todo-checkbox">
                        <input id="selection2" ng-model="voting.recommend" ng-checked="voting.recommend" type="checkbox">
                        <label for="selection2" style="margin-top: 4px;"></label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-lg-3">浏览量:</label>
                <div class="col-lg-2">
                    <input name="hot" ng-model="voting.hot" type="number" class="form-control input-sm" placeholder="浏览量" readonly="readonly" required>
                    <label class="control-label" ng-show="votingForm.hot.$invalid && votingForm.hot.$dirty">浏览量不能为空</label>
                </div>
                <label class="control-label col-lg-2" >浏览量加成:</label>
                <div class="col-lg-2" ng-class="votingForm.hotplus.$invalid && votingForm.hotplus.$dirty ? 'has-error': ''">
                    <input name="hotplus" ng-model="voting.hotplus" type="number" class="form-control input-sm" placeholder="浏览量加成" required>
                    <label class="control-label" ng-show="votingForm.hotplus.$invalid && votingForm.hotplus.$dirty">浏览量加成不能为空</label>
                </div>
            </div>
			<div class="form-group">
				<label class="control-label col-lg-3">主题图:</label>
				<div class="col-lg-4">
					<div class="fileinput-button" style="border: 1px solid #abcdef; width: 160px; height: 90px;" >
						<img ng-src="{{voting.image}}" width="160px;", height="90px;">
						<input type="file" id="file1" name="file1" pz-uploader action="doUpload(files)">
					</div>
				</div>
			</div>
			<div class="form-group" ng-class="votingForm.startTime.$invalid && votingForm.startTime.$dirty ? 'has-error': ''">
				<label class="control-label col-lg-3" style="padding-top: 40px;">开始时间:</label>
				<div class="col-md-3">
					<p class="input-group" style="margin-bottom: 0px; padding-top: 35px;">
						<input type="text" uib-datepicker-popup name="startTime" ng-model="voting.startTime" class="form-control input-sm" is-open="popup1.opened"
							datepicker-options="dateOptions" placeholder="开始时间" clear-text="清空" close-text="关闭" current-text="今天" on-open-focus="false" required/>
						<span class="input-group-btn">
							<button type="button" class="btn btn-default input-sm" ng-click="open1()">
								<i class="glyphicon glyphicon-calendar"></i>
							</button>
						</span>
					</p>
					<label class="control-label has-error" ng-show="votingForm.startTime.$error.date && votingForm.startTime.$dirty">
						时间格式错误
					</label>
					<label class="control-label has-error" ng-show="votingForm.startTime.$error.required && votingForm.startTime.$dirty">
						开始时间不能为空
					</label>
				</div>
				<div class="col-md-3">
					<uib-timepicker class="input-sm" ng-model="voting.startTime" hour-step="1" minute-step="1" show-meridian="false"></uib-timepicker>
				</div>
				
			</div>
			<div class="form-group" ng-class="votingForm.endTime.$invalid && votingForm.endTime.$dirty ? 'has-error': ''">
				<label class="control-label col-lg-3" style="padding-top: 40px;">结束时间:</label>
				<div class="col-md-3">
					<p class="input-group" style="margin-bottom: 0px; padding-top: 35px;">
						<input type="text" uib-datepicker-popup name="endTime" ng-model="voting.endTime" class="form-control input-sm" is-open="popup2.opened"
							datepicker-options="dateOptions" placeholder="结束时间" clear-text="清空" close-text="关闭" current-text="今天" on-open-focus="false" required/>
						<span class="input-group-btn">
							<button type="button" class="btn btn-default input-sm" ng-click="open2()">
								<i class="glyphicon glyphicon-calendar"></i>
							</button>
						</span>
					</p>
					<label class="control-label has-error" ng-show="votingForm.endTime.$error.date && votingForm.endTime.$dirty">
						时间格式错误
					</label>
					<label class="control-label has-error" ng-show="votingForm.endTime.$error.required && votingForm.endTime.$dirty">
						结束时间不能为空
					</label>
				</div>
				<div class="col-md-3">
					<uib-timepicker class="input-sm" ng-model="voting.endTime" hour-step="1" minute-step="1" show-meridian="false"></uib-timepicker>
				</div>
			</div>
			<div class="form-group"  ng-class="votingForm.desc.$invalid && votingForm.desc.$dirty ? 'has-error': ''">
				<label class="control-label col-lg-3">活动介绍:</label>
				<div class="col-lg-9">
					<textarea name="desc" ui-tinymce="tinymceOptions" ng-model="voting.desc" rows="10" cols="70" required></textarea>
					<label class="control-label" ng-show="votingForm.desc.$invalid && votingForm.desc.$dirty">照片投票活动简介不能为空</label>
				</div>
			</div>
			<div class="form-group"  ng-class="votingForm.result.$invalid && votingForm.result.$dirty ? 'has-error': ''">
				<label class="control-label col-lg-3">活动规则:</label>
				<div class="col-lg-9">
					<textarea name="result" ui-tinymce="tinymceOptions" ng-model="voting.result" rows="10" cols="70" required></textarea>
					<label class="control-label" ng-show="votingForm.result.$invalid && votingForm.result.$dirty">抽奖结果不能为空</label>
				</div>
			</div>
			<div class="form-group"  ng-class="votingForm.giftDesc.$invalid && votingForm.giftDesc.$dirty ? 'has-error': ''">
				<label class="control-label col-lg-3">奖项设置:</label>
				<div class="col-lg-9">
					<textarea name="giftDesc" ui-tinymce="tinymceOptions" ng-model="voting.giftDesc" rows="10" cols="70" required></textarea>
					<label class="control-label" ng-show="votingForm.giftDesc.$invalid && votingForm.giftDesc.$dirty">活动奖品简介不能为空</label>
				</div>
			</div>
			<div class="form-group">
				<label class="control-label col-lg-3">投票限制1:</label>
				<div class="col-lg-3" >
					<input name="voteLimit1" ng-model="voting.voteLimit1" type="number" class="form-control input-sm" placeholder="非实名认证的投票数" required>
					<label class="control-label has-error" ng-show="votingForm.voteLimit1.$invalid && votingForm.voteLimit1.$dirty">投票限制1不能为空</label>
				</div>
				<label class="control-label col-lg-3">投票限制2:</label>
				<div class="col-lg-3">
					<input name="voteLimit2" ng-model="voting.voteLimit2" type="number" class="form-control input-sm" placeholder="实名认证的投票数" required>
					<label class="control-label has-error" ng-show="votingForm.voteLimit2.$invalid && votingForm.voteLimit2.$dirty">投票限制1不能为空</label>
				</div>
			</div>
			<div class="form-group">
                <label class="control-label col-lg-3">分享链接:</label>
                <div class="col-lg-9">
                    <textarea readonly="readonly" cols="60" rows="6">{{shareLink}}</textarea>
                </div>
            </div>
			<div class="text-right m-top-md">
				<button ng-click="save(voting)" class="btn btn-success btn-sm" ng-disabled="votingForm.$invalid"><i class="fa fa-save m-right-xs"></i>保存</button>
			</div>
		</form>
	</div>
	</div>
</div>